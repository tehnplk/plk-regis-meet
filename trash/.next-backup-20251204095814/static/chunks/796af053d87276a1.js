(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2535,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),i=e.i(18439);function l({initialProfile:e}){let l=(0,a.useRouter)(),r=(0,a.useSearchParams)().get("eventId"),n=r?Number(r):void 0,[c,o]=(0,s.useState)(),[u,d]=(0,s.useState)(!!n),[x,m]=(0,s.useState)(null);return(0,s.useEffect)(()=>{n?(async()=>{try{let e=await fetch(`/api/events/${n}`);if(404===e.status){o(void 0),m("ไม่พบกิจกรรมที่ต้องการ"),d(!1);return}if(!e.ok)throw Error("Failed to load event");let t=await e.json();o(t.event),m(null)}catch(e){m("no data")}finally{d(!1)}})():d(!1)},[n]),(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50 font-sans text-gray-900",children:[(0,t.jsx)(i.Header,{}),(0,t.jsxs)("main",{className:"max-w-4xl mx-auto p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"ลงทะเบียนเข้าร่วมงาน (Form)"}),u&&(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"กำลังโหลดข้อมูลงาน..."}),!u&&x&&(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:x}),!u&&!x&&c&&(0,t.jsxs)("p",{className:"text-gray-600 text-sm",children:["สำหรับกิจกรรม: ",c.title]}),(0,t.jsx)(i.RegistrationForm,{eventId:n,eventTitle:c?.title,initialProfile:e,onSubmitted:()=>l.push("/")})]})]})}e.s(["default",()=>l])}]);