{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///E:/NextJS/plk-regis-meet/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\nconst globalForPrisma = globalThis as unknown as {\r\n  prisma?: PrismaClient;\r\n};\r\n\r\nexport const prisma =\r\n  globalForPrisma.prisma ??\r\n  new PrismaClient({\r\n    log: ['error', 'warn'],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  globalForPrisma.prisma = prisma;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK;QAAC;QAAS;KAAO;AACxB;AAEF,wCAA2C;IACzC,gBAAgB,MAAM,GAAG;AAC3B"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///E:/NextJS/plk-regis-meet/src/app/api/database/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\n\ninterface TableInfo {\n  name: string;\n}\n\nexport async function GET() {\n  try {\n    // ดึงรายชื่อตารางจาก SQLite (ยกเว้นระบบ)\n    const tables = (await prisma.$queryRaw<\n      TableInfo[]\n    >`SELECT name FROM sqlite_schema WHERE type = 'table' AND name NOT LIKE 'sqlite_%'`) ?? [];\n\n    const tableWithCounts = await Promise.all(\n      tables.map(async (t) => {\n        const rows = (await prisma.$queryRawUnsafe<\n          { count: bigint | number }[]\n        >(`SELECT COUNT(*) as count FROM \"${t.name}\"`)) ?? [];\n        const rawCount = rows[0]?.count ?? 0;\n        const count = typeof rawCount === 'bigint' ? Number(rawCount) : rawCount;\n        return {\n          name: t.name,\n          count,\n        };\n      }),\n    );\n\n    return NextResponse.json({ tables: tableWithCounts });\n  } catch (error) {\n    console.error(error);\n    return new NextResponse('Internal Server Error', { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAMO,eAAe;IACpB,IAAI;QACF,yCAAyC;QACzC,MAAM,SAAS,AAAC,MAAM,gIAAM,CAAC,SAAS,AAErC,CAAC,gFAAgF,CAAC,IAAK,EAAE;QAE1F,MAAM,kBAAkB,MAAM,QAAQ,GAAG,CACvC,OAAO,GAAG,CAAC,OAAO;YAChB,MAAM,OAAO,AAAC,MAAM,gIAAM,CAAC,eAAe,CAExC,CAAC,+BAA+B,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,KAAM,EAAE;YACrD,MAAM,WAAW,IAAI,CAAC,EAAE,EAAE,SAAS;YACnC,MAAM,QAAQ,OAAO,aAAa,WAAW,OAAO,YAAY;YAChE,OAAO;gBACL,MAAM,EAAE,IAAI;gBACZ;YACF;QACF;QAGF,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,QAAQ;QAAgB;IACrD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,IAAI,gJAAY,CAAC,yBAAyB;YAAE,QAAQ;QAAI;IACjE;AACF"}}]
}