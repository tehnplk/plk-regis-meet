{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/NextJS/plk-regis-meet/src/app/_data/database.ts"],"sourcesContent":["export type EventStatus =\n  | \"scheduled\"\n  | \"open\"\n  | \"confirmed\"\n  | \"full\"\n  | \"pending\"\n  | \"closed\"\n  | \"cancelled\"\n  | \"postponed\";\n\nexport type ParticipantStatus = \"confirmed\" | \"pending\" | \"cancelled\";\n\nexport interface Event {\n  id: number;\n  title: string;\n  date: string;\n  endDate: string | null;\n  time: string;\n  location: string;\n  registered: number;\n  capacity: number;\n  status: EventStatus;\n  description: string;\n}\n\nexport interface Participant {\n  id: number;\n  eventId: number;\n  name: string;\n  org: string;\n  position: string;\n  email: string;\n  phone: string;\n  foodType?: 'normal' | 'islam';\n  status: ParticipantStatus;\n  regDate: string;\n}\n\nexport const STATUS_LABELS: Record<EventStatus | ParticipantStatus, string> = {\n  scheduled: \"ตามกำหนด\",\n  open: \"เปิดลงทะเบียน\",\n  confirmed: \"ยืนยันแล้ว\",\n  full: \"ที่นั่งเต็ม\",\n  pending: \"รอชำระเงิน\",\n  closed: \"ปิดรับสมัคร\",\n  cancelled: \"ยกเลิก\",\n  postponed: \"เลื่อน\",\n};\n\nexport const events: Event[] = [\n  {\n    id: 1,\n    title: \"AI & Future Technology Summit 2025\",\n    date: \"15 มกราคม 2568\",\n    endDate: \"17 มกราคม 2568\",\n    time: \"09:00 - 16:30\",\n    location: \"Grand Hall, BITEC Bangna\",\n    registered: 142,\n    capacity: 200,\n    status: \"scheduled\",\n    description:\n      \"งานสัมมนาเทคโนโลยีแห่งอนาคตและการประยุกต์ใช้ AI ในภาคธุรกิจ (3 วัน)\",\n  },\n  {\n    id: 2,\n    title: \"Digital Marketing Strategy Workshop\",\n    date: \"22 กุมภาพันธ์ 2568\",\n    endDate: null,\n    time: \"13:00 - 17:00\",\n    location: \"Meeting Room 401, True Digital Park\",\n    registered: 50,\n    capacity: 50,\n    status: \"full\",\n    description:\n      \"เวิร์กชอปเจาะลึกกลยุทธ์การตลาดออนไลน์สำหรับ SME\",\n  },\n  {\n    id: 3,\n    title: \"HR Tech Conference Thailand\",\n    date: \"10 มีนาคม 2568\",\n    endDate: null,\n    time: \"08:30 - 17:00\",\n    location: \"Samyan Mitrtown Hall\",\n    registered: 80,\n    capacity: 300,\n    status: \"postponed\",\n    description:\n      \"นวัตกรรมการบริหารทรัพยากรบุคคลยุคใหม่ (เลื่อนการจัดงานอย่างไม่มีกำหนด)\",\n  },\n  {\n    id: 4,\n    title: \"Startup Pitching Day 2025\",\n    date: \"1 เมษายน 2568\",\n    endDate: null,\n    time: \"09:00 - 12:00\",\n    location: \"Glowfish Sathorn\",\n    registered: 10,\n    capacity: 100,\n    status: \"cancelled\",\n    description: \"เวทีนำเสนอไอเดียธุรกิจสตาร์ทอัพเพื่อระดมทุน\",\n  },\n];\n\nconst participants: Participant[] = [\n  {\n    id: 101,\n    eventId: 1,\n    name: \"สมชาย ใจดี\",\n    org: \"บริษัท เทคโซลูชั่น จำกัด\",\n    position: \"Senior Developer\",\n    email: \"somchai@tech.co.th\",\n    phone: \"081-111-1111\",\n    status: \"confirmed\",\n    regDate: \"01/12/2567\",\n  },\n  {\n    id: 102,\n    eventId: 1,\n    name: \"วิภาดา รักงาน\",\n    org: \"SME Bank\",\n    position: \"Marketing Manager\",\n    email: \"wiphada@sme.com\",\n    phone: \"089-222-2222\",\n    status: \"pending\",\n    regDate: \"02/12/2567\",\n  },\n  {\n    id: 103,\n    eventId: 1,\n    name: \"ก้องเกียรติ มั่นคง\",\n    org: \"Freelance\",\n    position: \"Designer\",\n    email: \"kong@design.io\",\n    phone: \"090-333-3333\",\n    status: \"cancelled\",\n    regDate: \"03/12/2567\",\n  },\n  {\n    id: 104,\n    eventId: 1,\n    name: \"อารียา สุขใจ\",\n    org: \"มหาวิทยาลัยเชียงใหม่\",\n    position: \"Researcher\",\n    email: \"areeya@cmu.ac.th\",\n    phone: \"086-444-4444\",\n    status: \"confirmed\",\n    regDate: \"05/12/2567\",\n  },\n  {\n    id: 105,\n    eventId: 1,\n    name: \"ณัฐพล คนเก่ง\",\n    org: \"Startup One\",\n    position: \"CTO\",\n    email: \"nattapol@startup.one\",\n    phone: \"087-555-5555\",\n    status: \"confirmed\",\n    regDate: \"06/12/2567\",\n  },\n];\n\nexport const getEventById = (id: number) =>\n  events.find((event) => event.id === id);\n\nexport const getParticipantsForEvent = (eventId: number) =>\n  participants.filter((participant) => participant.eventId === eventId);\n\nexport const isRegistrationDisabled = (status: EventStatus) =>\n  [\"full\", \"closed\", \"cancelled\", \"postponed\"].includes(status);\n"],"names":[],"mappings":";;;;;;;;;;;;AAsCO,MAAM,gBAAiE;IAC5E,WAAW;IACX,MAAM;IACN,WAAW;IACX,MAAM;IACN,SAAS;IACT,QAAQ;IACR,WAAW;IACX,WAAW;AACb;AAEO,MAAM,SAAkB;IAC7B;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,SAAS;QACT,MAAM;QACN,UAAU;QACV,YAAY;QACZ,UAAU;QACV,QAAQ;QACR,aACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,SAAS;QACT,MAAM;QACN,UAAU;QACV,YAAY;QACZ,UAAU;QACV,QAAQ;QACR,aACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,SAAS;QACT,MAAM;QACN,UAAU;QACV,YAAY;QACZ,UAAU;QACV,QAAQ;QACR,aACE;IACJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,SAAS;QACT,MAAM;QACN,UAAU;QACV,YAAY;QACZ,UAAU;QACV,QAAQ;QACR,aAAa;IACf;CACD;AAED,MAAM,eAA8B;IAClC;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,KAAK;QACL,UAAU;QACV,OAAO;QACP,OAAO;QACP,QAAQ;QACR,SAAS;IACX;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,KAAK;QACL,UAAU;QACV,OAAO;QACP,OAAO;QACP,QAAQ;QACR,SAAS;IACX;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,KAAK;QACL,UAAU;QACV,OAAO;QACP,OAAO;QACP,QAAQ;QACR,SAAS;IACX;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,KAAK;QACL,UAAU;QACV,OAAO;QACP,OAAO;QACP,QAAQ;QACR,SAAS;IACX;IACA;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,KAAK;QACL,UAAU;QACV,OAAO;QACP,OAAO;QACP,QAAQ;QACR,SAAS;IACX;CACD;AAEM,MAAM,eAAe,CAAC,KAC3B,OAAO,IAAI,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK;AAE/B,MAAM,0BAA0B,CAAC,UACtC,aAAa,MAAM,CAAC,CAAC,cAAgB,YAAY,OAAO,KAAK;AAExD,MAAM,yBAAyB,CAAC,SACrC;QAAC;QAAQ;QAAU;QAAa;KAAY,CAAC,QAAQ,CAAC"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///E:/NextJS/plk-regis-meet/src/app/_components/event-ui.tsx"],"sourcesContent":["'use client';\n\nimport { useState, FormEvent } from 'react';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { useSession, signOut } from 'next-auth/react';\nimport QRCode from 'react-qr-code';\nimport {\n  AlertTriangle,\n  Calendar,\n  CheckCircle,\n  ChevronLeft,\n  ChevronDown,\n  Clock,\n  FileText,\n  MapPin,\n  MoreHorizontal,\n  Search,\n  UserPlus,\n  Users,\n  XCircle,\n} from 'lucide-react';\nimport type {\n  Event,\n  EventStatus,\n  Participant,\n} from '../_data/database';\nimport { STATUS_LABELS } from '../_data/database';\n\nconst STATUS_STYLES: Record<EventStatus | 'confirmed' | 'pending' | 'cancelled', string> = {\n  scheduled: 'bg-blue-100 text-blue-700 border-blue-200',\n  open: 'bg-green-100 text-green-700 border-green-200',\n  confirmed: 'bg-green-100 text-green-700 border-green-200',\n  full: 'bg-orange-100 text-orange-700 border-orange-200',\n  pending: 'bg-yellow-100 text-yellow-700 border-yellow-200',\n  closed: 'bg-gray-100 text-gray-600 border-gray-200',\n  cancelled: 'bg-red-100 text-red-700 border-red-200',\n  postponed: 'bg-purple-100 text-purple-700 border-purple-200',\n};\n\nexport const Header = () => {\n  const router = useRouter();\n  const pathname = usePathname();\n  const showBack = pathname !== '/';\n  const { data: session } = useSession();\n  const isAuthenticated = !!session;\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  return (\n    <header className=\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          {showBack && (\n            <button\n              type=\"button\"\n              onClick={() => router.back()}\n              className=\"flex items-center gap-1 text-sm text-gray-500 hover:text-blue-600 focus:outline-none\"\n            >\n              <ChevronLeft size={18} />\n              <span className=\"hidden sm:inline\">ย้อนกลับ</span>\n            </button>\n          )}\n          <div className=\"flex items-center gap-2\">\n            <div className=\"bg-blue-600 p-2 rounded-lg\">\n              <FileText className=\"w-5 h-5 text-white\" />\n            </div>\n            <h1 className=\"text-xl font-bold text-gray-800\">EventReg System</h1>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          {!isAuthenticated && (\n            <button\n              type=\"button\"\n              onClick={() => router.push(`/login?callbackUrl=${encodeURIComponent(pathname || '/')}`)}\n              className=\"hidden sm:inline-flex items-center justify-center px-3 py-1.5 text-xs rounded-lg border border-blue-500 text-blue-600 hover:bg-blue-50\"\n            >\n              เข้าสู่ระบบ\n            </button>\n          )}\n\n          {isAuthenticated && (\n            <div className=\"relative hidden sm:flex items-center gap-2\">\n              <button\n                type=\"button\"\n                onClick={() => setIsMenuOpen((prev) => !prev)}\n                className=\"flex items-center gap-2 text-sm text-gray-900 hover:text-blue-600\"\n              >\n                <span className=\"max-w-[140px] truncate\">\n                  {session?.user?.name ?? session?.user?.email ?? 'ผู้ใช้งาน'}\n                </span>\n                <div className=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold\">\n                  {session?.user?.name?.[0] ?? 'U'}\n                </div>\n                <ChevronDown\n                  size={16}\n                  className={`ml-1 transition-transform ${isMenuOpen ? 'rotate-180' : ''}`}\n                />\n              </button>\n              {isMenuOpen && (\n                <div className=\"absolute right-0 top-9 w-40 bg-white border border-gray-200 rounded-lg shadow-lg py-1 text-sm z-20\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setIsMenuOpen(false);\n                      signOut({ callbackUrl: '/login' });\n                    }}\n                    className=\"w-full text-left px-3 py-1.5 hover:bg-gray-50 text-red-600 text-xs\"\n                  >\n                    ออกจากระบบ\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n\n          {!isAuthenticated && (\n            <div className=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold\">\n              G\n            </div>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport const StatusBadge = ({ status }: { status: EventStatus | 'confirmed' | 'pending' | 'cancelled' }) => (\n  <span\n    className={`px-2.5 py-0.5 rounded-full text-xs font-medium border ${\n      STATUS_STYLES[status] ?? STATUS_STYLES.closed\n    }`}\n  >\n    {STATUS_LABELS[status] ?? status}\n  </span>\n);\n\nexport const DateDisplay = ({\n  startDate,\n  endDate,\n  iconSize = 16,\n}: {\n  startDate: string;\n  endDate: string | null;\n  iconSize?: number;\n}) => (\n  <div className=\"flex items-center gap-2\">\n    <Calendar size={iconSize} className=\"text-blue-500 shrink-0\" />\n    <span>\n      {startDate}\n      {endDate && endDate !== startDate ? ` - ${endDate}` : ''}\n    </span>\n  </div>\n);\n\nexport const EventCards = ({\n  events,\n  onRegisterClick,\n  onViewParticipants,\n}: {\n  events: Event[];\n  onRegisterClick: (event: Event) => void;\n  onViewParticipants: (event: Event) => void;\n}) => {\n  const [qrUrl, setQrUrl] = useState<string | null>(null);\n  const [qrTitle, setQrTitle] = useState<string | null>(null);\n\n  const handleOpenQr = (event: Event) => {\n    if (typeof window === 'undefined') return;\n    const registerUrl = `${window.location.origin}/register?eventId=${event.id}`;\n    setQrUrl(registerUrl);\n    setQrTitle(event.title);\n  };\n\n  const handleCloseQr = () => {\n    setQrUrl(null);\n    setQrTitle(null);\n  };\n\n  return (\n    <div className=\"p-6 max-w-7xl mx-auto space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">รายการกิจกรรม</h2>\n          <p className=\"text-gray-500 text-sm mt-1\">จัดการและดูรายละเอียดกิจกรรมทั้งหมด</p>\n        </div>\n        <a\n          href=\"/create-event\"\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors\"\n        >\n          <UserPlus size={18} />\n          <span>สร้างกิจกรรมใหม่</span>\n        </a>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {events.map((event) => {\n          const isUnavailable = ['full', 'closed', 'cancelled', 'postponed'].includes(event.status);\n          const progress = Math.min((event.registered / event.capacity) * 100, 100);\n\n          return (\n            <div\n              key={event.id}\n              className=\"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow overflow-hidden flex flex-col\"\n            >\n              <div className=\"p-5 flex-1\">\n                <div className=\"flex justify-between items-start mb-3\">\n                  <StatusBadge status={event.status} />\n                  <button className=\"text-gray-400 hover:text-gray-600\" type=\"button\">\n                    <MoreHorizontal size={20} />\n                  </button>\n                </div>\n                <h3 className=\"text-lg font-bold text-gray-900 mb-2 line-clamp-2\">{event.title}</h3>\n                <p className=\"text-gray-500 text-sm mb-4 line-clamp-2\">{event.description}</p>\n\n                <div className=\"space-y-2 text-sm text-gray-600\">\n                  <DateDisplay startDate={event.date} endDate={event.endDate} />\n                  <div className=\"flex items-center gap-2\">\n                    <Clock size={16} className=\"text-blue-500 shrink-0\" />\n                    <span>{event.time}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <MapPin size={16} className=\"text-blue-500 shrink-0\" />\n                    <span className=\"truncate\">{event.location}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-gray-50 px-5 py-4 border-t border-gray-100 mt-auto\">\n                <div className=\"flex justify-between items-center mb-3\">\n                  <div className=\"flex items-center gap-1.5 text-sm font-medium text-gray-700\">\n                    <Users size={16} />\n                    <span>\n                      {event.registered} / {event.capacity} คน\n                    </span>\n                  </div>\n                  <div className=\"w-24 bg-gray-200 rounded-full h-2\">\n                    <div\n                      className={`h-2 rounded-full ${\n                        event.registered >= event.capacity ? 'bg-orange-500' : 'bg-blue-500'\n                      }`}\n                      style={{ width: `${progress}%` }}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                  <button\n                    type=\"button\"\n                    disabled={isUnavailable}\n                    onClick={() => onRegisterClick(event)}\n                    className={`flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm ${\n                      isUnavailable\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed border border-gray-200'\n                        : 'bg-blue-600 text-white hover:bg-blue-700'\n                    }`}\n                  >\n                    {event.status === 'cancelled' ? (\n                      <XCircle size={16} />\n                    ) : event.status === 'postponed' ? (\n                      <AlertTriangle size={16} />\n                    ) : (\n                      <UserPlus size={16} />\n                    )}\n                    <span>\n                      {event.status === 'cancelled'\n                        ? 'ยกเลิกแล้ว'\n                        : event.status === 'postponed'\n                        ? 'เลื่อน'\n                        : event.status === 'full'\n                        ? 'เต็ม'\n                        : 'ลงทะเบียน'}\n                    </span>\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => onViewParticipants(event)}\n                    className=\"py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 hover:text-blue-600 transition-colors\"\n                  >\n                    ดูรายชื่อ\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => handleOpenQr(event)}\n                    className=\"py-2 bg-white border border-dashed border-blue-400 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors\"\n                  >\n                    QR ลงทะเบียน\n                  </button>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {qrUrl && (\n        <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4\">\n          <div className=\"bg-white rounded-xl shadow-xl max-w-sm w-full p-5 space-y-4\">\n            <div className=\"flex justify-between items-center\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">QR ลงทะเบียน</h3>\n              <button\n                type=\"button\"\n                onClick={handleCloseQr}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <XCircle size={18} />\n              </button>\n            </div>\n            {qrTitle && (\n              <p className=\"text-sm text-gray-600 line-clamp-2\">{qrTitle}</p>\n            )}\n            <div className=\"flex justify-center\">\n              <div className=\"bg-white p-3 rounded-lg border border-gray-200\">\n                <QRCode value={qrUrl} size={220} />\n              </div>\n            </div>\n            <p className=\"text-[11px] text-gray-400 break-all bg-gray-50 border border-dashed border-gray-200 rounded-md px-2 py-1\">\n              {qrUrl}\n            </p>\n            <div className=\"flex justify-end\">\n              <button\n                type=\"button\"\n                onClick={handleCloseQr}\n                className=\"px-4 py-1.5 text-xs rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50\"\n              >\n                ปิด\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const ParticipantsSection = ({\n  event,\n  participants,\n}: {\n  event: Event;\n  participants: Participant[];\n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const filteredParticipants = participants.filter(\n    (p) =>\n      p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      p.org.toLowerCase().includes(searchTerm.toLowerCase()),\n  );\n\n  return (\n    <div className=\"p-6 max-w-7xl mx-auto space-y-6\">\n      <div className=\"flex items-center gap-2 text-sm text-gray-500 mb-2\">\n        <span className=\"text-gray-700\">รายการกิจกรรม</span>\n        <span>/</span>\n        <span className=\"text-gray-900 font-medium truncate max-w-xs\">{event.title}</span>\n      </div>\n\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6\">\n          <div className=\"flex items-start gap-4\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">{event.title}</h2>\n              <div className=\"flex flex-wrap gap-4 mt-2 text-sm text-gray-600\">\n                <span className=\"flex items-center gap-1\">\n                  <DateDisplay startDate={event.date} endDate={event.endDate} iconSize={14} />\n                </span>\n                <span className=\"flex items-center gap-1\">\n                  <MapPin size={14} /> {event.location}\n                </span>\n                <StatusBadge status={event.status} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <div className=\"text-right px-4 py-2 bg-blue-50 rounded-lg border border-blue-100\">\n              <span className=\"block text-xs text-blue-600 font-semibold uppercase tracking-wide\">ยอดลงทะเบียน</span>\n              <span className=\"text-2xl font-bold text-blue-800\">{event.registered} คน</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4 pt-4 border-t border-gray-100\">\n          <div className=\"relative w-full sm:w-80\">\n            <Search\n              className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"\n              size={18}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"ค้นหาชื่อ หรือ หน่วยงาน...\"\n              className=\"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n          <div className=\"flex gap-2 w-full sm:w-auto\">\n            <button className=\"flex-1 sm:flex-none px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50\" type=\"button\">\n              Export Excel\n            </button>\n            <button className=\"flex-1 sm:flex-none px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 flex items-center justify-center gap-2\" type=\"button\">\n              <UserPlus size={16} /> เพิ่มชื่อ\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-left border-collapse\">\n            <thead>\n              <tr className=\"bg-gray-50 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold tracking-wider\">\n                <th className=\"px-6 py-4\">ชื่อ-นามสกุล</th>\n                <th className=\"px-6 py-4\">หน่วยงาน / ตำแหน่ง</th>\n                <th className=\"px-6 py-4\">ข้อมูลติดต่อ</th>\n                <th className=\"px-6 py-4\">วันที่ลงทะเบียน</th>\n                <th className=\"px-6 py-4 text-center\">สถานะ</th>\n                <th className=\"px-6 py-4 text-right\">จัดการ</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-100\">\n              {filteredParticipants.length > 0 ? (\n                filteredParticipants.map((participant) => (\n                  <tr key={participant.id} className=\"hover:bg-blue-50/30 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div className=\"font-medium text-gray-900\">{participant.name}</div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"text-sm text-gray-900\">{participant.org}</div>\n                      <div className=\"text-xs text-gray-500\">{participant.position}</div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex flex-col text-sm text-gray-600\">\n                        <span>{participant.email}</span>\n                        <span className=\"text-gray-400 text-xs\">{participant.phone}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{participant.regDate}</td>\n                    <td className=\"px-6 py-4 text-center\">\n                      <StatusBadge status={participant.status} />\n                    </td>\n                    <td className=\"px-6 py-4 text-right\">\n                      <button className=\"text-gray-400 hover:text-blue-600 p-1\" type=\"button\">\n                        <MoreHorizontal size={18} />\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500\">\n                    <div className=\"flex flex-col items-center gap-2\">\n                      <Search size={32} className=\"text-gray-300\" />\n                      <p>ไม่พบข้อมูลผู้ลงทะเบียน</p>\n                    </div>\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"px-6 py-4 border-t border-gray-200 flex justify-between items-center bg-gray-50\">\n          <span className=\"text-sm text-gray-500\">\n            แสดง {filteredParticipants.length} รายการ จากทั้งหมด {participants.length} รายการ\n          </span>\n          <div className=\"flex gap-2\">\n            <button className=\"px-3 py-1 border rounded bg-white text-gray-400 text-sm disabled:opacity-50\" disabled type=\"button\">\n              ก่อนหน้า\n            </button>\n            <button className=\"px-3 py-1 border rounded bg-white text-gray-600 text-sm hover:bg-gray-50\" type=\"button\">\n              ถัดไป\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const RegistrationForm = ({\n  eventId,\n  eventTitle,\n  onSubmitted,\n}: {\n  eventId?: number;\n  eventTitle?: string;\n  onSubmitted?: () => void;\n}) => {\n  const [phoneInput, setPhoneInput] = useState('');\n  const [phoneError, setPhoneError] = useState<string | null>(null);\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (!eventId) {\n      window.alert('ไม่พบรหัสงานสำหรับการลงทะเบียน');\n      return;\n    }\n\n    const formData = new FormData(event.currentTarget);\n    const name = String(formData.get('name') ?? '').trim();\n    const org = String(formData.get('org') ?? '').trim();\n    const position = String(formData.get('position') ?? '').trim();\n    const email = String(formData.get('email') ?? '').trim();\n    const phoneRaw = String(formData.get('phone') ?? '').trim();\n    const foodType = (formData.get('foodType') ?? '').toString() as 'normal' | 'islam' | '';\n\n    const phone = phoneRaw.replace(/\\D/g, '');\n\n    if (!name || !org || !email || !phoneRaw) {\n      window.alert('กรุณากรอกข้อมูลที่จำเป็นให้ครบถ้วน');\n      return;\n    }\n\n    if (!/^0\\d{9}$/.test(phone)) {\n      setPhoneError('กรุณากรอกเบอร์ติดต่อ 10 หลัก ตามรูปแบบประเทศไทย เช่น 08 1234 5678');\n      return;\n    }\n\n    if (!foodType) {\n      window.alert('กรุณาเลือกประเภทอาหาร');\n      return;\n    }\n\n    try {\n      const res = await fetch(`/api/events/${eventId}/participants`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          name,\n          org,\n          position,\n          email,\n          phone,\n          foodType,\n        }),\n      });\n\n      if (!res.ok) {\n        throw new Error('Failed to register');\n      }\n\n      window.alert(\n        eventTitle\n          ? `ลงทะเบียนสำเร็จสำหรับงาน: ${eventTitle}`\n          : 'ลงทะเบียนสำเร็จ',\n      );\n      onSubmitted?.();\n    } catch (error) {\n      console.error(error);\n      window.alert('ไม่สามารถลงทะเบียนได้ กรุณาลองใหม่อีกครั้ง');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"p-6 space-y-5 max-w-lg mx-auto\">\n      <div>\n        <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n          ชื่อ-นามสกุล <span className=\"text-red-500\">*</span>\n        </label>\n        <input\n          required\n          name=\"name\"\n          type=\"text\"\n          className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm\"\n          placeholder=\"เช่น นายสมชาย มีมาก\"\n        />\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n            หน่วยงาน <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            required\n            name=\"org\"\n            type=\"text\"\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm\"\n            placeholder=\"ส่วนราชการ/องค์กร\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">ตำแหน่ง</label>\n          <input\n            name=\"position\"\n            type=\"text\"\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm\"\n            placeholder=\"ระบุตำแหน่ง\"\n          />\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n            อีเมล <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            required\n            name=\"email\"\n            type=\"email\"\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm\"\n            placeholder=\"name@example.com\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n            เบอร์ติดต่อ <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            required\n            name=\"phone\"\n            type=\"tel\"\n            maxLength={12}\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm\"\n            placeholder=\"เช่น 08 1234 5678\"\n            value={phoneInput}\n            onChange={(e) => {\n              const raw = e.target.value.replace(/\\D/g, '').slice(0, 10);\n              let formatted = raw;\n              if (raw.length > 2 && raw.length <= 6) {\n                formatted = `${raw.slice(0, 2)} ${raw.slice(2)}`;\n              } else if (raw.length > 6) {\n                formatted = `${raw.slice(0, 2)} ${raw.slice(2, 6)} ${raw.slice(6)}`;\n              }\n              setPhoneInput(formatted);\n\n              if (phoneError) {\n                if (!raw || /^0\\d{9}$/.test(raw)) {\n                  setPhoneError(null);\n                }\n              }\n            }}\n          />\n          {phoneError && (\n            <p className=\"mt-1 text-xs text-red-500\">{phoneError}</p>\n          )}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n        <div>\n          <span className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\n            ประเภทอาหาร <span className=\"text-red-500\">*</span>\n          </span>\n          <div className=\"flex flex-col gap-2 text-sm text-gray-700\">\n            <label className=\"inline-flex items-center gap-2\">\n              <input\n                type=\"radio\"\n                name=\"foodType\"\n                value=\"normal\"\n                defaultChecked\n                className=\"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500\"\n              />\n              <span>อาหารปกติ</span>\n            </label>\n            <label className=\"inline-flex items-center gap-2\">\n              <input\n                type=\"radio\"\n                name=\"foodType\"\n                value=\"islam\"\n                className=\"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500\"\n              />\n              <span>อาหารอิสลาม (ฮาลาล)</span>\n            </label>\n          </div>\n        </div>\n        <div className=\"bg-blue-50 p-3 rounded-lg flex items-start gap-2 text-xs text-blue-700 mt-2 sm:mt-0\">\n          <CheckCircle size={14} className=\"mt-0.5 shrink-0\" />\n          <p>\n            กรุณาตรวจสอบข้อมูลให้ถูกต้องก่อนยืนยัน ระบบจะส่งอีเมลยืนยันการลงทะเบียนไปยังอีเมลที่ท่านระบุไว้\n          </p>\n        </div>\n      </div>\n\n      <div className=\"pt-2 flex gap-3 justify-end border-t border-gray-100 mt-6\">\n        <button\n          type=\"submit\"\n          className=\"px-5 py-2.5 text-white bg-blue-600 hover:bg-blue-700 rounded-lg font-medium shadow-sm hover:shadow transition-all flex items-center gap-2 text-sm\"\n        >\n          <UserPlus size={18} />\n          ยืนยันการลงทะเบียน\n        </button>\n      </div>\n    </form>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1876, "column": 0}, "map": {"version":3,"sources":["file:///E:/NextJS/plk-regis-meet/src/app/register/page.tsx"],"sourcesContent":["'use client';\n\n// TEAM_001: Standalone registration page split from prototype modal.\n\nimport { useEffect, useState } from 'react';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { Header, RegistrationForm } from '../_components/event-ui';\nimport type { Event } from '../_data/database';\n\nexport default function RegisterPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const eventIdParam = searchParams.get('eventId');\n  const eventId = eventIdParam ? Number(eventIdParam) : undefined;\n\n  const [event, setEvent] = useState<Event | undefined>();\n  const [loading, setLoading] = useState<boolean>(!!eventId);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!eventId) {\n      setLoading(false);\n      return;\n    }\n\n    const load = async () => {\n      try {\n        const res = await fetch(`/api/events/${eventId}`);\n        if (res.status === 404) {\n          setEvent(undefined);\n          setError('ไม่พบกิจกรรมที่ต้องการ');\n          setLoading(false);\n          return;\n        }\n        if (!res.ok) {\n          throw new Error('Failed to load event');\n        }\n        const data = await res.json();\n        setEvent(data.event as Event);\n        setError(null);\n      } catch (e) {\n        setError('no data');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    load();\n  }, [eventId]);\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 font-sans text-gray-900\">\n      <Header />\n      <main className=\"max-w-4xl mx-auto p-6 space-y-4\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">ลงทะเบียนเข้าร่วมงาน</h2>\n        {loading && (\n          <p className=\"text-gray-600 text-sm\">กำลังโหลดข้อมูลงาน...</p>\n        )}\n        {!loading && error && (\n          <p className=\"text-gray-600 text-sm\">{error}</p>\n        )}\n        {!loading && !error && event && (\n          <p className=\"text-gray-600 text-sm\">สำหรับกิจกรรม: {event.title}</p>\n        )}\n        <RegistrationForm\n          eventId={eventId}\n          eventTitle={event?.title}\n          onSubmitted={() => router.push('/')}\n        />\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA,qEAAqE;AAErE;AACA;AACA;AANA;;;;;AASe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,eAAe,aAAa,GAAG,CAAC;IACtC,MAAM,UAAU,eAAe,OAAO,gBAAgB;IAEtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ;IAClC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU,CAAC,CAAC;IAClD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,SAAS;YACZ,WAAW;YACX;QACF;QAEA,MAAM,OAAO;YACX,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,YAAY,EAAE,SAAS;gBAChD,IAAI,IAAI,MAAM,KAAK,KAAK;oBACtB,SAAS;oBACT,SAAS;oBACT,WAAW;oBACX;gBACF;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,IAAI,MAAM;gBAClB;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,SAAS,KAAK,KAAK;gBACnB,SAAS;YACX,EAAE,OAAO,GAAG;gBACV,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAQ;IAEZ,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,mJAAM;;;;;0BACP,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;oBAChD,yBACC,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;oBAEtC,CAAC,WAAW,uBACX,8OAAC;wBAAE,WAAU;kCAAyB;;;;;;oBAEvC,CAAC,WAAW,CAAC,SAAS,uBACrB,8OAAC;wBAAE,WAAU;;4BAAwB;4BAAgB,MAAM,KAAK;;;;;;;kCAElE,8OAAC,6JAAgB;wBACf,SAAS;wBACT,YAAY,OAAO;wBACnB,aAAa,IAAM,OAAO,IAAI,CAAC;;;;;;;;;;;;;;;;;;AAKzC"}}]
}